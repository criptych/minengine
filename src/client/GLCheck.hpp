////////////////////////////////////////////////////////////////////////////////
//
////////////////////////////////////////////////////////////////////////////////

#ifndef __GLCHECK_HPP__
#define __GLCHECK_HPP__ 1

////////////////////////////////////////////////////////////////////////////////

static inline void _GLCheck(const char *file, int line) {
    GLenum errcode;

    while ( (errcode = glGetError()) ) {
        std::fprintf(stderr, "GL Error: %s(%d): %s\n", file, line,
            gluErrorString(errcode)
        );
    }
}

#define GLCheck() _GLCheck(__FILE__, __LINE__)

#ifndef NDEBUG
# define GLChecked(f) (f,GLCheck())
#else
# define GLChecked(f) f
#endif

////////////////////////////////////////////////////////////////////////////////

#endif // __GLCHECK_HPP__

////////////////////////////////////////////////////////////////////////////////
//  EOF
////////////////////////////////////////////////////////////////////////////////

